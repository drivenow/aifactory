from AIQuant.utils import MetaData

md = MetaData()

lib_info = {'factor_d_marketindex': {
    'pre_close': {
        'factor_id': 'pre_close',
        'factor_describe': '前收盘价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '前收盘价反映股票前一交易日收盘价格，属于行情中公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'open': {
        'factor_id': 'open',
        'factor_describe': '开盘价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '开盘价是市场交易的基础价格数据，反映当日交易起始水平',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'high': {
        'factor_id': 'high',
        'factor_describe': '最高价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '最高价反映价格在周期内的高位水平，属于技术面中的价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'low': {
        'factor_id': 'low',
        'factor_describe': '最低价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '最低价反映价格在周期内的低位水平，属于技术面中的价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'close': {
        'factor_id': 'close',
        'factor_describe': '收盘价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '收盘价是反映证券在交易周期结束时的市场定价，属于技术分析中的价格位置指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'vwap': {
        'factor_id': 'vwap',
        'factor_describe': '均价',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量价关系',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': 'VWAP为成交量加权均价，反映价格与成交量关系，属技术面量价关系类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'chg': {
        'factor_id': 'chg',
        'factor_describe': '涨跌',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '涨跌反映价格变动位置，属于行情技术面中的价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'pct_chg': {
        'factor_id': 'pct_chg',
        'factor_describe': '涨跌幅',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量价关系',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '涨跌幅衡量价格变动幅度，属量价关系中的核心指标，用于分析价格与时间维度的变动关系',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'turn': {
        'factor_id': 'turn',
        'factor_describe': '换手率',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '换手率反映股票交易活跃度，属行情中公司交易属性类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'free_turn': {
        'factor_id': 'free_turn',
        'factor_describe': '换手率(基准：自由流通股本)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量能指标',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '换手率基于自由流通股本，反映市场交易活跃度，属技术分析中量能类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'volume': {
        'factor_id': 'volume',
        'factor_describe': '成交量',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量能指标',
        'unit': '手',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '成交量是反映市场交易活跃度的核心量能指标，属于技术面分析范畴',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'amt': {
        'factor_id': 'amt',
        'factor_describe': '成交额',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量能指标',
        'unit': '千元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '成交额反映市场交易活跃度，属行情技术面量能类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'dealnum': {
        'factor_id': 'dealnum',
        'factor_describe': '成交笔数',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '量能指标',
        'unit': '笔',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '成交笔数反映市场交易频率与活跃度，属技术面量能类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'swing': {
        'factor_id': 'swing',
        'factor_describe': '振幅',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格形态',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '振幅反映价格波动形态，属于行情技术面中的价格形态类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    're_ipo_chg': {
        'factor_id': 're_ipo_chg',
        'factor_describe': '相对发行价涨跌',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '上市与发行',
        'classify_level3': None,
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '相对发行价涨跌直接关联新股发行定价后的市场表现，属资讯类中上市与发行相关指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'rel_ipo_pct_chg': {
        'factor_id': 'rel_ipo_pct_chg',
        'factor_describe': '相对发行价涨跌幅',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '上市与发行',
        'classify_level3': None,
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '相对发行价涨跌幅基于新股发行价格计算，反映上市后累计价格变动，具有明确的发行事件属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'trade_status': {
        'factor_id': 'trade_status',
        'factor_describe': '交易状态',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '交易状态反映证券是否正常交易，属于行情中公司交易属性特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'susp_reason': {
        'factor_id': 'susp_reason',
        'factor_describe': '停牌原因',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '重大事件',
        'classify_level3': None,
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '停牌原因属于公司重大事件披露信息，归类于资讯下的重大事件',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'lastradeday_s': {
        'factor_id': 'lastradeday_s',
        'factor_describe': '最近交易日',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '最近交易日反映证券的交易状态属性，属于行情下公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'last_trade_day': {
        'factor_id': 'last_trade_day',
        'factor_describe': '市场最近交易日',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '用于标识数据时效性与交易日历对齐，属行情基础支撑类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'adjfactor': {
        'factor_id': 'adjfactor',
        'factor_describe': '复权因子',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '复权因子用于调整价格连续性，属行情中公司交易属性类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'maxupordown': {
        'factor_id': 'maxupordown',
        'factor_describe': '涨跌停状态',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格形态',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '反映证券价格达到涨跌停的状态，属于技术面中的价格形态特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'total_shares': {
        'factor_id': 'total_shares',
        'factor_describe': '总股本',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '股本与股东',
        'classify_level3': None,
        'unit': '万股',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '总股本属于公司股本结构数据，应归类于资讯->股本与股东类别',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'free_float_shares': {
        'factor_id': 'free_float_shares',
        'factor_describe': '自由流通股本',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '万股',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '自由流通股本反映股票可交易规模，属行情中公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'float_a_shares': {
        'factor_id': 'float_a_shares',
        'factor_describe': '流通A股',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '万股',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '流通A股反映股票可交易规模，属行情中公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'share_totala': {
        'factor_id': 'share_totala',
        'factor_describe': 'A股合计',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '万股',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': 'A股合计为股票总股本属性，反映公司交易相关特征，属行情下公司属性类',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'pre_close_badj': {
        'factor_id': 'pre_close_badj',
        'factor_describe': '前收盘价（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '前收盘价（后复权）反映股票历史价格调整后的交易属性，属行情中公司交易特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'open_badj': {
        'factor_id': 'open_badj',
        'factor_describe': '开盘价（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '开盘价（后复权）是市场交易的基础价格数据，属于行情中基础指标类别',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'high_badj': {
        'factor_id': 'high_badj',
        'factor_describe': '最高价（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '最高价（后复权）反映价格历史位置，属技术面价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'low_badj': {
        'factor_id': 'low_badj',
        'factor_describe': '最低价（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '最低价（后复权）反映价格在时间序列中的位置，属技术面价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'close_badj': {
        'factor_id': 'close_badj',
        'factor_describe': '收盘价（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '后复权收盘价是行情基础价格指标，用于反映股票真实价值变动',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    're_ipo_chg_badj': {
        'factor_id': 're_ipo_chg_badj',
        'factor_describe': '相对发行价涨跌（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '上市与发行',
        'classify_level3': None,
        'unit': '元',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '相对发行价涨跌（后复权）基于发行价与当前价比较，属公司上市发行相关衍生指标，归入上市与发行类',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'rel_ipo_pct_chg_badj': {
        'factor_id': 'rel_ipo_pct_chg_badj',
        'factor_describe': '相对发行价涨跌幅（后复权）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格位置',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '该因子衡量股价相对于发行价的后复权涨跌幅，反映长期价格位置，属技术面中的价格位置类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'stpt': {
        'factor_id': 'stpt',
        'factor_describe': '是否是ST股票(1表示为ST股票)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': 'ST标识反映股票交易状态，属行情中公司交易属性特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'lowest_highest_status': {
        'factor_id': 'lowest_highest_status',
        'factor_describe': '最高最低价状态',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '技术面',
        'classify_level3': '价格形态',
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '反映价格的最高最低状态，属于技术分析中的价格形态特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'index_weight_hs300': {
        'factor_id': 'index_weight_hs300',
        'factor_describe': '沪深300指数(当日权重，后续弃用请改用hset)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '沪深300指数权重为指数成分股的结构化分配数据，属行情中基础指标类',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'index_weight_sh50': {
        'factor_id': 'index_weight_sh50',
        'factor_describe': '上证50指数（当日权重，后续弃用，请改用hset）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '衍生指标',
        'classify_level3': '行业排名',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '指数权重为基于市值与流动性的衍生配置指标，反映市场结构，归入衍生指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'index_weight_zz500': {
        'factor_id': 'index_weight_zz500',
        'factor_describe': '中证500指数（当日权重，后续弃用）',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基本面',
        'classify_level3': None,
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '中证500指数权重为指数成分股的结构性配置数据，反映市场基础构成，属行情下基本面类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_pre_close': {
        'factor_id': 'mdc_pre_close',
        'factor_describe': '行情中心前收价(早上9点10分更新)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '基础指标',
        'classify_level3': None,
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '前收盘价为市场交易产生的基础价格数据，属行情基础指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_adjfactor': {
        'factor_id': 'mdc_adjfactor',
        'factor_describe': '行情中心后复权因子(早上9点10分更新)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '后复权因子用于行情价格调整，反映股票交易属性，属行情类公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_tdate': {
        'factor_id': 'mdc_tdate',
        'factor_describe': '行情中心静态信息日期(早上9点10分更新)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '该因子为行情静态信息更新日期，属于公司交易属性的时间标识',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_maxpx': {
        'factor_id': 'mdc_maxpx',
        'factor_describe': '行情中心涨停价(早上9点10分更新)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '涨停价属于股票交易规则下的价格属性，反映市场交易机制特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_minpx': {
        'factor_id': 'mdc_minpx',
        'factor_describe': '行情中心跌停价(早上9点10分更新)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '跌停价属于股票交易过程中的价格限制属性，反映市场交易机制特征',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_stpt': {
        'factor_id': 'mdc_stpt',
        'factor_describe': '行情中心是否是ST股票(1表示为ST股票)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '标识股票是否为ST，反映交易状态属性，属行情中公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'mdc_trade_status': {
        'factor_id': 'mdc_trade_status',
        'factor_describe': '行情中心交易状态(早上9点10分更新至最终状态，**<fontcolor=red>8点20分更新未完备!</font>**)',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '%',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '反映证券实时交易状态，属行情中公司交易属性类指标',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'float_a_shr_today': {
        'factor_id': 'float_a_shr_today',
        'factor_describe': '当日流通股本',
        'factor_status': 'TRAIL',
        'classify_level1': '行情',
        'classify_level2': '公司属性',
        'classify_level3': '交易属性',
        'unit': '万股',
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '当日流通股本反映股票可交易部分，属行情中公司交易属性',
        'query_chain': 'xquant',
        'source': 'xquant'
    },
    'type_st': {
        'factor_id': 'type_st',
        'factor_describe': '特别处理类型(S:特别处理,Z:暂停上市,P:特别转让服务,L:退市处理,X:创业板暂停上市风险,T:退市,R:恢复上市,Y:*ST)',
        'factor_status': 'TRAIL',
        'classify_level1': '资讯',
        'classify_level2': '基本信息',
        'classify_level3': None,
        'unit': None,
        'support_scene': '选股',
        'support_market': '股票',
        'remark': '反映股票特殊状态标识，属于公司基本信息范畴',
        'query_chain': 'xquant',
        'source': 'xquant'
    }
}
}

for lib_id in lib_info:
    library_describe = "A股日行情指标"
    category = "factor"
    factor_freq = "low_fre"
    # factor_info为library_id下的所有因子信息
    factor_info = lib_info[lib_id]
    md.save_metadata(lib_id, factor_freq, category, library_describe, factor_info, cover=True)
