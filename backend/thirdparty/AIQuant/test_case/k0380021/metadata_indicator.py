from AIQuant.utils import MetaData

md = MetaData()

# TODO 10086、40105、40031、10014、10015、70391无对应的因子信息
# 1. 指标平台因子
indicator_id_info = {"10035": {"ZJLX_MAIN_BUY_TUR": "主力买入金额"},
                     "10049": {"ZJLX_RETAIL_BUY_CNT": "散户买入"},
                     "10055": {"ZJLX_RETAIL_BUY_CNT_PER": "散户买入占比"},
                     "10041": {"ZJLX_SUP_NET_TUR": "超大单净流入"},
                     "10042": {"ZJLX_BIG_NET_TUR": "大单净流入"},
                     "10043": {"ZJLX_MID_NET_TUR": "中单净流入"},
                     "10044": {"ZJLX_SM_NET_TUR": "小单净流入"},
                     "11": {"TURNOVER": "成交额"},
                     "10036": {"ZJLX_MAIN_SELL_TUR": "主力卖出金额"},
                     "10018": {"MP_RES_EXT": "主力入场动能"},
                     "40002": {"MACD": "MACD", "DIF": "DIF", "DEA": "DEA"},
                     "10008": {"TAG_TIME_SHARE_TOP_SIGNAL_SUPERNOTICE": "分时顶信号",
                               "TAG_TIME_SHARE_BOTTOM_SIGNAL_SUPERNOTICE": "分时底信号"},
                     "70098": {"PCTI_TOTAL_SHARE": "机构持有比例", "MASTER_INSTITUTIOAN": "机构持仓汇总",
                               "QOQ_PROPORTION_OF_INSTITUTION_SHAREHOLDING": "机构持股比例环比"},
                     "40624": {"TAG_CATCH_UP_POTENTIAL_STOCK": "补涨潜力股"},
                     "10016": {"MAIN_INTENT": "主力态度"},
                     "10017": {"MP_GAINS_RATE": "主力浮盈率"},
                     "10020": {"MP_CTRL_DIAL": "主力控盘度"},
                     "79999": {'TAG_UNDER_VALUED_STOCK': '低估',
                               'TAG_HIGH_DIVIDENDS': '红利',
                               'TAG_POTENTIAL_SHARE': '潜力',
                               'TAG_NEW_STOCK': '新股',
                               'TAG_EARNINGS_GROWTH': '业绩增长',
                               'TAG_MERIT_STOCK': '绩优股',
                               'STKNOTRADINGINFO': '停牌复牌信息',
                               'TAG_LARGE_SHAREHOLDERS_REDUCE_HOLDINGS': '大股东减持',
                               'TAG_BLUE_CHIP_STOCK': '蓝筹股',
                               'TAG_TURNAROUND_EXP': '扭亏为盈',
                               'TAG_HIGH_PB_VALUATION': '市净率估值高',
                               'TAG_LOW_PB_VALUATION': '市净率估值低',
                               'TAG_STABLE_RETURNS': '收益稳健',
                               'TAG_INSTITUTION_HEAVY': '机构重仓',
                               'TAG_FINANCIAL_STABILITY': '财务稳健',
                               'TAG_GOOD_STOCK': '优质',
                               'TAG_STRONG_FUNDAMENTALS': '基本面好',
                               'TAG_PERFORMANCE_FORECAST_REDUCTION': '业绩预减-废弃',
                               'TAG_ORG_ACCUMULATION': '机构是否增持',
                               'TAG_ORG_DISTRIBUTION': '机构是否减持',
                               'TAG_BLACK_HORSE_STOCK': '黑马股',
                               'TAG_ASSET_TURNOVER_RATIO_IMPROVEMENT': '资产周转率提升',
                               'TAG_RAPID_GROWTH_OF_MAIN_BUSINESS': '营收快速增长',
                               'TAG_IMPROVEMENT_ACCOUNTS_RECEIVABLE_TURNOVER_RATE': '应收账款周转率改善',
                               'TAG_PROFIT_GROWTH_HIGH': '业绩好',
                               'TAG_IMPROVEMENT_PROFITABILITY': '业绩改善',
                               'TAG_INTEREST_SPREAD_QOQ_EXPANSION': '息差环比扩大',
                               'TAG_MARGIN_LOAN_BALANCE_FELL': '融券余额下降',
                               'TAG_RQ_BALANCE_UP': '融券余额上升',
                               'TAG_GROSS_MARGIN_IMPROVEMENT': '毛利率提升',
                               'TAG_RAPID_GROWTH_OF_NET_PROFIT': '净利润快速增长',
                               'TAG_RECENT_MA_SELLER': '有并购出让方',
                               'TAG_RECENT_MA_BUYER': '有并购受让方',
                               'TAG_NEAR_TERM_BAN_LIFTED': '近期限售解禁',
                               'TAG_NEAR_TERM_REPURCHASE': '近期回购',
                               'TAG_RECENT_SENIOR_EXE_INCREASE_SHARE': '近期高管增持',
                               'TAG_RECENT_OFFICER_STOCK_SALES': '近期高管减持',
                               'TAG_HIGH_PROPORTION_OF_EQUITY_PLEDGE': '股权质押比例高',
                               'TAG_HIGH_CASH_RESERVES': '高现金储备',
                               'TAG_NORTHBOUND_HOLDING_INCREASE': '北向资金抢筹',
                               'TAG_NORTHBOUND_HOLDING_REDUCE': '北向大幅减持',
                               'TAG_HIGH_SAFETY_MARGIN': '安全边际高',
                               'TAG_STRONG_FINANCIAL_FUNDAMENTALS': '资金面好',
                               'TAG_HOUSEHOLD_DECREASE': '户数减少',
                               'TAG_FUND_HEAVY': '基金重仓',
                               'TAG_QFII_HEAVY': 'QFII重仓',
                               'TAG_SOCIAL_SECURITY_HEAVY': '社保重仓',
                               'TAG_NEWLY_LISTED': '次新股',
                               'TAG_CONVERTIBLE_BOND_INCLUDED': '含可转债',
                               'TAG_EX_DIVIDEND_STOCK': '除权股',
                               'TAG_MISPRICED': '被错杀',
                               'TAG_HIGH_STOCK_NATURE': '股性佳',
                               'TAG_FINANCIAL_LEVERAGE_HEALTHY': '资产负债表健康',
                               'TAG_MODERATE_LEVERAGE_RATIO': '杠杆率适中',
                               'TAG_GROWTH_STOCKS': '成长股',
                               'TAG_VALUE_STOCKS': '价值股',
                               'TAG_BOND_DEFAULT': '债券违约',
                               'TAG_DEBT_REPAYMENT_STRONG': '偿债能力强',
                               'TAG_PRIVATE_PLACEMENT': '定向增发',
                               'TAG_RESTRUCTURING_SUCCEEDS': '重组成功',
                               'TAG_EARNINGS_BELOW': '业绩低于预期',
                               'TAG_NORTH_HEAVYWEIGHT_HOLDINGS': '陆股通重仓',
                               'TAG_EARNINGS_MEET': '业绩符合预期',
                               'TAG_NORTHBOUND_HEAVY_BIN': '北向重仓',
                               'TAG_FAIRLY_VALUED': '估值合理',
                               'TAG_FOREIGN_ENTERPRISE': '外资',
                               'TAG_PROFIT_FORECAST_INCREASE': '业绩预增-废弃',
                               'TAG_RECENT_EXECUTIVE_CHANGES': '高管变动',
                               'TAG_WR_OVERBOUGHT': 'WR超买',
                               'COUNTRY_COMPANY': '是否是国企',
                               'CENTER_COMPANY': '是否是央企'}
                     }
library_id = "INDICATOR_PLATFORM_1"
factor_freq = "low_freq"
category = "factor"
library_describe = "日频因子库"
factor_info = {"10035": {"factor_describe": indicator_id_info["10035"], "factor_alias": "ZJLX_MAIN_BUY_TUR",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询",
                         "support_market": """市场:沪深京,科创板,创业板,港
                                                    板块:沪深,港
                                                    债券:沪深可转债,沪深国债,沪深其他债券
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金""",
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10049": {"factor_describe": indicator_id_info["10049"], "factor_alias": "ZJLX_RETAIL_BUY_CNT",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """债券:沪深可转债,沪深国债,沪深其他债券
                                                    板块:申万,沪深
                                                    指数:沪深指数
                                                    股票:沪深主板,科创板,创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10055": {"factor_describe": indicator_id_info["10055"], "factor_alias": "ZJLX_RETAIL_BUY_CNT_PER",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """债券:沪深国债,沪深可转债,沪深其他债券
                                                    板块:申万,沪深
                                                    指数:沪深指数
                                                    股票:沪深主板,科创板,创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10041": {"factor_describe": indicator_id_info["10041"], "factor_alias": "超大单资金流向、超大单净流出",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，盯盘",
                         "support_market": """市场:港
                                                    债券:沪深可转债,沪深国债,沪深其他债券
                                                    板块:申万,沪深,港
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10042": {"factor_describe": indicator_id_info["10042"], "factor_alias": "大单资金流向、大单净流出",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，盯盘",
                         "support_market": """市场:港,沪深京,科创板,创业板
                                                    债券:沪深可转债,沪深国债,沪深其他债券
                                                    板块:申万,沪深,港
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10043": {"factor_describe": indicator_id_info["10043"], "factor_alias": "中单资金流向、中单净流出",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，盯盘",
                         "support_market": """市场:港
                                                    债券:沪深可转债,沪深国债,沪深其他债券
                                                    板块:申万,沪深,港
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10044": {"factor_describe": indicator_id_info["10044"], "factor_alias": "小单资金流向、小单净流出",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，盯盘",
                         "support_market": """市场:港,沪深京
                                                    债券:沪深可转债,沪深国债,沪深其他债券
                                                    板块:申万,沪深,港
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "11": {"factor_describe": indicator_id_info["11"], "factor_alias": "交易额、量能",
                      "classify_level1": "一级目录", "classify_level2": "二级目录",
                      "classify_level3": "三级目录",
                      "unit": "单位", "factor_id": "因子id",
                      "factor_status": "LISTED",
                      "depend_factor": "无",
                      "evaluation_metric": "评价指标维度(多个维度用/分割)",
                      "support_scene": "查询，选股，盯盘",
                      "support_market": """市场:美
                                                    债券:沪深可转债,沪深国债,沪深其他债券,新三板债券,京债券
                                                    指数:沪深指数,京指数,新三板指数,港指数,外盘指数
                                                    股票:沪深主板,京A股,科创板,创业板,美股,港股,沪深B股,新三板,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                      "remark": "备注信息",
                      "query_chain": "xquant",
                      "source": "指标平台",
                      "author": "指标平台",
                      "factor_create_time": "2025",
                      },
               "10036": {"factor_describe": indicator_id_info["10036"], "factor_alias": "主力流出金额、卖出金额",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询",
                         "support_market": """市场:沪深京,港
                                                    板块:沪深,港,申万
                                                    债券:沪深可转债,沪深其他债券,沪深国债
                                                    指数:沪深指数,港指数
                                                    股票:沪深主板,科创板,创业板,港股,沪深B股,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10018": {"factor_describe": indicator_id_info["10018"], "factor_alias": "MP_RES_EXT",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询",
                         "support_market": """股票:沪深主板,科创板,沪深B股,创业板
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "40002": {"factor_describe": indicator_id_info["40002"], "factor_alias": "MACD_DIFF",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """板块:沪深,港
                                                    指数:沪深指数,京指数,新三板指数,港指数
                                                    股票:沪深主板,科创板,创业板,京A股,港股,新三板,港股创业板
                                                    基金:沪深ETF,沪深LOF,沪深非ETF/LOF基金
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10008": {"factor_describe": indicator_id_info["10008"], "factor_alias": "分时信号",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，盯盘，标签选股",
                         "support_market": """股票:沪深主板,京A股,创业板,科创板
                                                    基金:沪深ETF
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "70098": {"factor_describe": indicator_id_info["70098"], "factor_alias": "机构持股",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """股票:创业板,京A股,科创板,沪深主板,沪深B股
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "40624": {"factor_describe": indicator_id_info["40624"], "factor_alias": "TAG_CATCH_UP_POTENTIAL_STOCK",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股，标签选股",
                         "support_market": """股票:沪深主板,京A股,科创板,创业板
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10016": {"factor_describe": indicator_id_info["10016"], "factor_alias": "主力意图",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询",
                         "support_market": """股票:沪深主板,科创板,沪深B股,创业板
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10017": {"factor_describe": indicator_id_info["10017"], "factor_alias": "主力意图",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询",
                         "support_market": """股票:沪深主板,科创板,沪深B股,创业板
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "10020": {"factor_describe": indicator_id_info["10020"], "factor_alias": "主力仓位",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """股票:沪深主板,科创板,沪深B股,创业板
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },
               "79999": {"factor_describe": indicator_id_info["79999"], "factor_alias": "无",
                         "classify_level1": "一级目录", "classify_level2": "二级目录",
                         "classify_level3": "三级目录",
                         "unit": "单位", "factor_id": "因子id",
                         "factor_status": "LISTED",
                         "depend_factor": "无",
                         "evaluation_metric": "评价指标维度(多个维度用/分割)",
                         "support_scene": "查询，选股",
                         "support_market": """板块:沪深
                                                    股票:沪深主板,京A股,科创板,创业板,沪深B股
                                                """,
                         "remark": "备注信息",
                         "query_chain": "xquant",
                         "source": "指标平台",
                         "author": "指标平台",
                         "factor_create_time": "2025",
                         },

               }

md.save_metadata(library_id, factor_freq, category, library_describe, factor_info, cover=False)
